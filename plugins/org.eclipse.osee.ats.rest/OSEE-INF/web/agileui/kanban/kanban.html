<!DOCTYPE html>
<html>
<script src="kanban/underscore.js"></script>
<body>

	<div class="container-fluid">

		<div class="panel panel-primary" id="backlogContainer">
			<div class="panel-heading" id="backlogHeader">
				<table width="100%">
					<tr>
						<td width="26%">Team: <strong>{{team.name}}</strong>
						</td>
						<td width="7%">Items: <strong>{{count}}</strong>
						</td>
						<td width="7%">
						<td>Big Cards: <input type="checkbox" ng-model="bigCards"></td>
						<td width="42%">
							<table class="headerDropdowns" width="100%" border=1 rules=NONE
								frame=BOX>
								<tr>
									<td align="center" width="30%">Sprint</td>
									<td align="center" width="30%">Assignees</td>
								</tr>
								<td width="30%"><select style="min-width: 100%;"
									ng-model="selectedSprint"
									ng-options="sprint.name for (key,sprint) in sprints">
								</select></td>
								<td width="30%"><select style="min-width: 100%;"
									ng-model="_assignee"
									ng-options="_assignee for _assignee in assignees">
										<option value="">Show All</option>
								</select></td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
			</div>
			<div menu></div>
		</div>

		<div id="board" ng-show="availableStates" ng-model="allTasks">

			<table width="100%" border="3" style="table-layout: fixed;"
				height="100%">
				<thead>
					<tr>
						<th class="boardStyle" align="center" style="width: 8%;">Assignee</th>
						<th id={{state.name}} ng-repeat="state in availableStates"
							class="boardStyle" align="center" style="width: 20%">{{state.name}}</th>
					</tr>
				</thead>
				<tbody>
					<tr border="1" id={{assignee}}
						ng-repeat="assignee in assignees  | filter:_assignee"
						style="height: 200px;">
						<td valign="top" align="center" style="width: 4%;">{{assignee}}</td>
						<td valign="top" id={{assignee}}-{{state.name}} ng-drop="true"
							ng-drop-success="onDropComplete($data,$event,'{{state.name}}','{{assignee}}')"
							ng-repeat="state in availableStates" style="width: 24%;">
							<div cards></div>
						</td>

					</tr>
				</tbody>
			</table>

		</div>
		<center>
			<img src="{{loadingImg}}" id="loadingImg" ng-hide="availableStates"
				align="middle">
		</center>
</body>
</html>